<!DOCTYPE html>
<html>
<head>
    <title>Weekly Carbon Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">
<h2 class="mb-3">Weekly Carbon Footprint Report</h2>

<div class="row">
  <div class="col-md-6">
    <ul class="list-group">
      <li class="list-group-item">Total CO₂ this week: <strong>{{ weekly_total|round(2) }} kg</strong></li>
      <li class="list-group-item">Average per week (based on 7-day window): <strong>{{ avg_weekly|round(2) }} kg</strong></li>
      <li class="list-group-item">Average per day: <strong>{{ avg_daily|round(2) }} kg</strong></li>
      <li class="list-group-item">Tree absorption rate used: <strong>{{ absorb_rate }} kg CO₂/tree/year</strong></li>
      <li class="list-group-item">Trees required to offset this week's emissions (if trees absorb {{ absorb_rate }} kg/year): <strong>{{ trees_week|round(2) }}</strong></li>
      <li class="list-group-item">Estimated lifetime CO₂ ({{ lifetime_years }} years): <strong>{{ lifetime_co2|round(2) }} kg</strong></li>
      <li class="list-group-item">Trees required to offset lifetime CO₂: <strong>{{ trees_lifetime|round(2) }}</strong></li>
    </ul>
  </div>
  <div class="col-md-6">
    <img src="/{{ graph_path }}" class="img-fluid" alt="Weekly graph">
  </div>
</div>

<hr>
<p class="mt-3 small">Notes: The calculation assumes weekly data aggregated over the last 7 days. To change the tree absorption rate, edit <code>ABSORB_RATE</code> in <code>app.py</code>.</p>

<a href="/" class="btn btn-secondary mt-3">Back</a>
</body>
</html>